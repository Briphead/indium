<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Replace URLs in JSON</title>
</head>
<body>

<script>
  // Fetch the JSON data from a file
  fetch('gamesd3.json')
    .then(response => response.json())
    .then(jsonData => {
      // Loop through each object in the JSON array
      jsonData.forEach(function(item) {
        // Replace 'https://d3rtzzzsiu7gdr.cloudfront.net/files' with 'https://hypackel.github.io/' if present
        item.imageSrc = replaceUrl(item.imageSrc);
        item.url = replaceUrl(item.url);
      });

      // Function to replace URLs appropriately
      function replaceUrl(url) {
        if (url.includes('https://d3rtzzzsiu7gdr.cloudfront.net/files')) {
          return url.replace('https://d3rtzzzsiu7gdr.cloudfront.net/files', 'https://hypackel.github.io');
        } else if (url.startsWith('./')) {
          return 'https://hypackel.github.io' + url.slice(1);
        }
        return url;
      }

      // Convert modified JSON data back to a string
      var modifiedJsonString = JSON.stringify(jsonData, null, 2);

      // Create a blob with the modified JSON string
      var blob = new Blob([modifiedJsonString], { type: 'application/json' });

      // Create a link element to download the modified JSON file
      var link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.download = 'modified_json_data.json';

      // Append the link to the body and click it programmatically to trigger download
      document.body.appendChild(link);
      link.click();

      // Cleanup
      document.body.removeChild(link);
    })
    .catch(error => console.error('Error fetching JSON:', error));
</script>

</body>
</html>
